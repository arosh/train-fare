<!DOCTYPE html>
<html lang="ja" data-ng-app="App">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>交通費の計算</title>
    <link rel="stylesheet" href="assets/bootstrap-honoka.min.css">
    <style>
        .container {
            margin-top: 1em;
            margin-bottom: 1em;
        }
    </style>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-36473722-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body>
    <div class="container" data-ng-controller="Controller as c">

        <h1 style="text-align: center;">交通費の計算</h1>

        <form name="form" novalidate>
            <div class="form-group" data-ng-class="{'has-error':form.transportationFee.$invalid && !form.transportationFee.$pristine}">
                <label>運賃（円）</label>
                <input type="text" name="transportationFee" class="form-control" data-ng-model="c.transportationFee" required pattern="\d+">
            </div>
            <div class="form-group" data-ng-class="{'has-error':form.expressFee.$invalid && !form.expressFee.$pristine}">
                <label>特急料金（円）</label>
                <input type="text" name="expressFee" class="form-control" data-ng-model="c.expressFee" required pattern="\d+">
            </div>
            <div class="checkbox">
                <label><input type="checkbox" data-ng-model="c.buyTwoWay" data-ng-change="c.buyTwoWayChange()">往復切符を買う</label>
            </div>

            <ul style="list-style-type: none;">
                <li>
                    <div data-ng-show="c.buyTwoWay" class="checkbox" data-ng-class="{'has-error':c.isTwoWayDiscountInvalid()}">
                        <label><input type="checkbox" data-ng-model="c.twoWayDiscount">往復割を使う</label>
                        <ul data-ng-show="c.twoWayDiscount" style="list-style-type: none;">
                            <li><label><input type="checkbox" data-ng-model="c.twoWayDiscountCheck1">片道601km以上である（東京ー大阪間は不可）</label></li>
                            <li><label><input type="checkbox" data-ng-model="c.twoWayDiscountCheck2">乗車券の有効日数について確認した<br>（<a href="https://www.jr-odekake.net/railroad/ticket/guide/02a.html#1">乗車券の有効期間｜きっぷのルール：JRおでかけネット</a>）</label></li>
                        </ul>
                    </div>
                </li>
            </ul>

            <div class="checkbox" data-ng-class="{'has-error':c.isStudentDiscountInvalid()}">
                <label><input type="checkbox" data-ng-model="c.studentDiscount">学割を使う</label>
                <ul data-ng-show="c.studentDiscount" style="list-style-type: none;">
                    <li><label><input type="checkbox" data-ng-model="c.studentDiscountCheck1">片道101km以上である</label></li>
                    <li><label><input type="checkbox" data-ng-model="c.studentDiscountCheck2">乗車券の有効日数について確認した<br>（<a href="https://www.jr-odekake.net/railroad/ticket/guide/02a.html#1">乗車券の有効期間｜きっぷのルール：JRおでかけネット</a>）</label></li>
                    <li><label><input type="checkbox" data-ng-model="c.studentDiscountCheck3">大都市近郊区間では往復券は発売当日のみ有効であることを知っている<br>（<a href="https://www.jr-odekake.net/railroad/ticket/guide/02b.html#5">大都市近郊区間内のみをご利用になる場合の特例｜きっぷのルール：JRおでかけネット</a>）</label></li>
                </ul>
            </div>
        </form>
        <div class="alert alert-warning" role="alert" data-ng-show="c.isTwoWayDiscountInvalid() || c.isStudentDiscountInvalid()">チェックボックスを確認してください</div>
        <b>結果</b> {{c.formula()}} = {{c.result() | currency:'&yen;':0}}
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-i18n/1.5.5/angular-locale_ja-jp.min.js"></script>
    <script src="assets/index.js"></script>
</body>

</html>